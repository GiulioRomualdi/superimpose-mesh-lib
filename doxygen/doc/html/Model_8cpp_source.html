<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SuperimposeMesh Library: C:/Users/cfantacci/GitHub/superimpose-mesh-lib/src/SuperimposeMesh/src/Model.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SuperimposeMesh Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_a628133ec9c02294b45e12274cafdc9b.html">SuperimposeMesh</a></li><li class="navelem"><a class="el" href="dir_26265cd6f588e7a6ba8ae9f594739ddc.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Model.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Model_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Model_8h.html">SuperimposeMesh/Model.h</a>&quot;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;assimp/Importer.hpp&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;assimp/postprocess.h&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;glm/glm.hpp&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// #include &lt;SOIL/SOIL.h&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno"><a class="line" href="classModel.html#a97ced90b9b512521b2e5bdeaeac6b907">   11</a></span>&#160;<a class="code" href="classModel.html#a97ced90b9b512521b2e5bdeaeac6b907">Model::Model</a>(<span class="keyword">const</span> GLchar* path)</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;{</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    this-&gt;<a class="code" href="classModel.html#a3cd88224a93dc81a8503d42be807eb86">loadModel</a>(path);</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;}</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="classModel.html#a191a00d937b9e911bf4881ea14d79b6c">   17</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classModel.html#a191a00d937b9e911bf4881ea14d79b6c">Model::Draw</a>(<a class="code" href="classShader.html">Shader</a> shader)</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;{</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <span class="keywordflow">for</span>(GLuint i = 0; i &lt; this-&gt;<a class="code" href="classModel.html#a538e42901dcfba59471072a48a162163">meshes</a>.size(); i++)</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    {</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        this-&gt;<a class="code" href="classModel.html#a538e42901dcfba59471072a48a162163">meshes</a>[i].Draw(shader);</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    }</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;}</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="classModel.html#a3cd88224a93dc81a8503d42be807eb86">   26</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classModel.html#a3cd88224a93dc81a8503d42be807eb86">Model::loadModel</a>(std::string path)</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;{</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    Assimp::Importer <span class="keyword">import</span>;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keyword">const</span> aiScene*   scene = <span class="keyword">import</span>.ReadFile(path, aiProcess_Triangulate | aiProcess_FlipUVs);</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">if</span>(!scene || scene-&gt;mFlags == AI_SCENE_FLAGS_INCOMPLETE || !scene-&gt;mRootNode)</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    {</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;ERROR::ASSIMP::&quot;</span> &lt;&lt; <span class="keyword">import</span>.GetErrorString() &lt;&lt; std::endl;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    }</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordtype">size_t</span> foundpos = path.find_last_of(<span class="charliteral">&#39;/&#39;</span>);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">if</span> (foundpos == std::string::npos)</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        this-&gt;<a class="code" href="classModel.html#a5ea3aa111c7a7d179e93dcc0bb567701">directory</a> = <span class="stringliteral">&quot;.&quot;</span>;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    }</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    {</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        this-&gt;<a class="code" href="classModel.html#a5ea3aa111c7a7d179e93dcc0bb567701">directory</a> = path.substr(0, foundpos);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    }</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    this-&gt;<a class="code" href="classModel.html#a23b167ce0d33f7e6ab5693cd5e81a9a5">processNode</a>(scene-&gt;mRootNode, scene);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="classModel.html#a23b167ce0d33f7e6ab5693cd5e81a9a5">   51</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classModel.html#a23b167ce0d33f7e6ab5693cd5e81a9a5">Model::processNode</a>(aiNode* node, <span class="keyword">const</span> aiScene* scene) {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">/* Process all the node&#39;s meshes (if any). */</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">for</span> (GLuint i = 0; i &lt; node-&gt;mNumMeshes; ++i)</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        aiMesh* mesh = scene-&gt;mMeshes[node-&gt;mMeshes[i]];</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        this-&gt;<a class="code" href="classModel.html#a538e42901dcfba59471072a48a162163">meshes</a>.push_back(this-&gt;<a class="code" href="classModel.html#a95ae1a9980ded3d98b1c8785cb889d96">processMesh</a>(mesh, scene));</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    }</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">/* Then do the same for each of its children. */</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">for</span> (GLuint i = 0; i &lt; node-&gt;mNumChildren; ++i)</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        this-&gt;<a class="code" href="classModel.html#a23b167ce0d33f7e6ab5693cd5e81a9a5">processNode</a>(node-&gt;mChildren[i], scene);</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">/* Note: we could basically forget about processing any of the nodes and simply loop through all of the scene&#39;s meshes directly without doing all this complicated stuff with indices. The reason we&#39;re doing this is that the initial idea for using nodes like this is that it defines a parent-child relation between meshes. By recursively iterating through these relations we can actually define certain meshes to be parents of other meshes. It is generally recommended to stick with this approach for whenever you want extra control over your mesh data. These node-like relations are after all defined by the artists who created the models. */</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="classModel.html#a95ae1a9980ded3d98b1c8785cb889d96">   68</a></span>&#160;<a class="code" href="classMesh.html">Mesh</a> <a class="code" href="classModel.html#a95ae1a9980ded3d98b1c8785cb889d96">Model::processMesh</a>(aiMesh* mesh, <span class="keyword">const</span> aiScene* scene)</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    std::vector&lt;Vertex&gt;  vertices;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    std::vector&lt;GLuint&gt;  indices;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    std::vector&lt;Texture&gt; textures;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="comment">/* Process vertices. */</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">for</span> (GLuint i = 0; i &lt; mesh-&gt;mNumVertices; ++i)</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <a class="code" href="structVertex.html">Vertex</a> vertex;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="comment">/* Process vertex positions, normals and texture coordinates. */</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        vertex.<a class="code" href="structVertex.html#abb3cfacd96b5955b0cec9359840ee49f">Position</a> = glm::vec3(mesh-&gt;mVertices[i].x, mesh-&gt;mVertices[i].y, mesh-&gt;mVertices[i].z);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        vertex.<a class="code" href="structVertex.html#a9ab4dc431b41509f0b1bb1a4bf09d4e2">Normal</a>   = glm::vec3(mesh-&gt;mNormals[i].x,  mesh-&gt;mNormals[i].y,  mesh-&gt;mNormals[i].z);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="comment">/* Does the mesh contain texture coordinates? */</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordflow">if</span> (mesh-&gt;mTextureCoords[0])</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            vertex.<a class="code" href="structVertex.html#a921a513c1e6d1e63e99d477fa837a317">TexCoords</a> = glm::vec2(mesh-&gt;mTextureCoords[0][i].x, mesh-&gt;mTextureCoords[0][i].y);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        }</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            vertex.<a class="code" href="structVertex.html#a921a513c1e6d1e63e99d477fa837a317">TexCoords</a> = glm::vec2(0.0f, 0.0f);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="comment">/* Note: Assimp allows a model to have up to 8 different texture coordinates per vertex, i.e. mTextureCoords[0:7][*], which we&#39;re not going to use. We only care about the first set of texture coordinates. */</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        vertices.push_back(vertex);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">/* Process indices. */</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">/* Assimp&#39;s interface defines meshes with an array of faces, where each face represents a single primitive which, in our case (due to the aiProcess_Triangulate option), are always triangles. A face contains the indices that define which vertices we need to draw in what order for each primitive so if we iterate over all the faces and store all the face&#39;s indices in the indices vector we&#39;re all set. */</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">for</span> (GLuint i = 0; i &lt; mesh-&gt;mNumFaces; ++i)</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        aiFace face = mesh-&gt;mFaces[i];</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">for</span> (GLuint j = 0; j &lt; face.mNumIndices; ++j)</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            indices.push_back(face.mIndices[j]);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">//    /* Process textures. */</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">//    /* The texture code is taken as-is. The tutorial on texture was skipped. */</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">//    if (mesh-&gt;mMaterialIndex &gt; 0) {</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">//        aiMaterial* material = scene-&gt;mMaterials[mesh-&gt;mMaterialIndex];</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">//        std::vector&lt;Texture&gt; diffuseMaps = this-&gt;loadMaterialTextures(material, aiTextureType_DIFFUSE, &quot;texture_diffuse&quot;);</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">//        textures.insert(textures.end(), diffuseMaps.begin(), diffuseMaps.end());</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">//        std::vector&lt;Texture&gt; specularMaps = this-&gt;loadMaterialTextures(material, aiTextureType_SPECULAR, &quot;texture_specular&quot;);</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">//        textures.insert(textures.end(), specularMaps.begin(), specularMaps.end());</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">//    }</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classMesh.html">Mesh</a>(vertices, indices, textures);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">//std::vector&lt;Texture&gt; Model::loadMaterialTextures(aiMaterial* mat, aiTextureType type, std::string typeName) {</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">//    std::vector&lt;Texture&gt; textures;</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">//    for (GLuint i = 0; i &lt; mat-&gt;GetTextureCount(type); ++i) {</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">//        aiString str;</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">//        mat-&gt;GetTexture(type, i, &amp;str);</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">//        GLboolean skip = false;</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">//        for (GLuint j = 0; j &lt; textures_loaded.size(); ++j) {</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">//            if (textures_loaded[j].path == str) {</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">//                textures.push_back(textures_loaded[j]);</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">//                skip = true;</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">//                break;</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">//            }</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">//        }</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">//        /* If texture hasn&#39;t been loaded already, load it. */</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">//        if (!skip) {</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">//            Texture texture;</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">//            texture.id = TextureFromFile(str.C_Str(), this-&gt;directory);</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">//            texture.type = typeName;</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">//            texture.path = str;</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">//            textures.push_back(texture);</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">//            /* Add to loaded textures. */</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">//            this-&gt;textures_loaded.push_back(texture);</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">//        }</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">//    }</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">//    return textures;</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">//}</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">//GLint Model::TextureFromFile(const char* path, std::string directory)</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">//{</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">//    /* Generate texture ID and load texture data. */</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">//    std::string filename = std::string(path);</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">//    filename = directory + &quot;/&quot; + filename;</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">//    GLuint textureID;</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">//    glGenTextures(1, &amp;textureID);</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">//    int width;</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">//    int height;</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">//    unsigned char* image = SOIL_load_image(filename.c_str(), &amp;width, &amp;height, 0, SOIL_LOAD_RGB);</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">//    /* Assign texture to ID. */</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">//    glBindTexture(GL_TEXTURE_2D, textureID);</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">//    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, width, height, 0, GL_RGB, GL_UNSIGNED_BYTE, image);</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">//    glGenerateMipmap(GL_TEXTURE_2D);</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">//    /* Parameters. */</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">//    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT);</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">//    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">//    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR_MIPMAP_LINEAR);</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">//    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">//    glBindTexture(GL_TEXTURE_2D, 0);</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">//    SOIL_free_image_data(image);</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">//    return textureID;</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">//}</span></div><div class="ttc" id="classModel_html_a191a00d937b9e911bf4881ea14d79b6c"><div class="ttname"><a href="classModel.html#a191a00d937b9e911bf4881ea14d79b6c">Model::Draw</a></div><div class="ttdeci">void Draw(Shader shader)</div><div class="ttdef"><b>Definition:</b> <a href="Model_8cpp_source.html#l00017">Model.cpp:17</a></div></div>
<div class="ttc" id="classModel_html_a5ea3aa111c7a7d179e93dcc0bb567701"><div class="ttname"><a href="classModel.html#a5ea3aa111c7a7d179e93dcc0bb567701">Model::directory</a></div><div class="ttdeci">std::string directory</div><div class="ttdef"><b>Definition:</b> <a href="Model_8h_source.html#l00025">Model.h:25</a></div></div>
<div class="ttc" id="structVertex_html_abb3cfacd96b5955b0cec9359840ee49f"><div class="ttname"><a href="structVertex.html#abb3cfacd96b5955b0cec9359840ee49f">Vertex::Position</a></div><div class="ttdeci">glm::vec3 Position</div><div class="ttdef"><b>Definition:</b> <a href="Mesh_8h_source.html#l00015">Mesh.h:15</a></div></div>
<div class="ttc" id="Model_8h_html"><div class="ttname"><a href="Model_8h.html">Model.h</a></div></div>
<div class="ttc" id="classShader_html"><div class="ttname"><a href="classShader.html">Shader</a></div><div class="ttdef"><b>Definition:</b> <a href="Shader_8h_source.html#l00009">Shader.h:9</a></div></div>
<div class="ttc" id="classMesh_html"><div class="ttname"><a href="classMesh.html">Mesh</a></div><div class="ttdef"><b>Definition:</b> <a href="Mesh_8h_source.html#l00028">Mesh.h:28</a></div></div>
<div class="ttc" id="structVertex_html_a921a513c1e6d1e63e99d477fa837a317"><div class="ttname"><a href="structVertex.html#a921a513c1e6d1e63e99d477fa837a317">Vertex::TexCoords</a></div><div class="ttdeci">glm::vec2 TexCoords</div><div class="ttdef"><b>Definition:</b> <a href="Mesh_8h_source.html#l00017">Mesh.h:17</a></div></div>
<div class="ttc" id="classModel_html_a95ae1a9980ded3d98b1c8785cb889d96"><div class="ttname"><a href="classModel.html#a95ae1a9980ded3d98b1c8785cb889d96">Model::processMesh</a></div><div class="ttdeci">Mesh processMesh(aiMesh *mesh, const aiScene *scene)</div><div class="ttdef"><b>Definition:</b> <a href="Model_8cpp_source.html#l00068">Model.cpp:68</a></div></div>
<div class="ttc" id="classModel_html_a3cd88224a93dc81a8503d42be807eb86"><div class="ttname"><a href="classModel.html#a3cd88224a93dc81a8503d42be807eb86">Model::loadModel</a></div><div class="ttdeci">void loadModel(std::string path)</div><div class="ttdef"><b>Definition:</b> <a href="Model_8cpp_source.html#l00026">Model.cpp:26</a></div></div>
<div class="ttc" id="classModel_html_a97ced90b9b512521b2e5bdeaeac6b907"><div class="ttname"><a href="classModel.html#a97ced90b9b512521b2e5bdeaeac6b907">Model::Model</a></div><div class="ttdeci">Model(const GLchar *path)</div><div class="ttdef"><b>Definition:</b> <a href="Model_8cpp_source.html#l00011">Model.cpp:11</a></div></div>
<div class="ttc" id="structVertex_html"><div class="ttname"><a href="structVertex.html">Vertex</a></div><div class="ttdef"><b>Definition:</b> <a href="Mesh_8h_source.html#l00014">Mesh.h:14</a></div></div>
<div class="ttc" id="structVertex_html_a9ab4dc431b41509f0b1bb1a4bf09d4e2"><div class="ttname"><a href="structVertex.html#a9ab4dc431b41509f0b1bb1a4bf09d4e2">Vertex::Normal</a></div><div class="ttdeci">glm::vec3 Normal</div><div class="ttdef"><b>Definition:</b> <a href="Mesh_8h_source.html#l00016">Mesh.h:16</a></div></div>
<div class="ttc" id="classModel_html_a23b167ce0d33f7e6ab5693cd5e81a9a5"><div class="ttname"><a href="classModel.html#a23b167ce0d33f7e6ab5693cd5e81a9a5">Model::processNode</a></div><div class="ttdeci">void processNode(aiNode *node, const aiScene *scene)</div><div class="ttdef"><b>Definition:</b> <a href="Model_8cpp_source.html#l00051">Model.cpp:51</a></div></div>
<div class="ttc" id="classModel_html_a538e42901dcfba59471072a48a162163"><div class="ttname"><a href="classModel.html#a538e42901dcfba59471072a48a162163">Model::meshes</a></div><div class="ttdeci">std::vector&lt; Mesh &gt; meshes</div><div class="ttdef"><b>Definition:</b> <a href="Model_8h_source.html#l00024">Model.h:24</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
